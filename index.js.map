{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nexport function getImagesByQuery(query) {\n  const myApiKey = \"39362168-c2a5e7696671cec7e0c5dcb17\";\n  const BASE_URL = \"https://pixabay.com/api/\";\n  const params = new URLSearchParams({\n    key: myApiKey,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  })\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => response.data) \n    .catch(error => error.message)\n};\n\n\n","import \"simplelightbox/dist/simple-lightbox.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"/css/new-lightbox.css\";\n\nconst list = document.querySelector(\".gallery\"); \nconst loader = document.querySelector(\".loader\");\n\nconst ligthBox = new SimpleLightbox(\".gallery li a\", {\n    captions: true,\n    captionsData: \"alt\",\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    overlayOpacity: 0.8,\n    overlay: true\n  });\n\n  ligthBox.on('show.simplelightbox', function () {\n  });\n\n\nexport function createGallery(images) {\n  \n  const markup = images\n    .map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) =>\n      `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n            height=\"200\"\n          />\n          <ul class=\"gallery-info-list\">\n            <li class=\"gallery-list-item\">Likes\n              <p class=\"gallery-item-title\">${likes}</p>\n            </li>\n            <li class=\"gallery-list-item\">Views\n              <p class=\"gallery-item-title\">${views}</p>\n            </li>\n            <li class=\"gallery-list-item\">Comments\n              <p class=\"gallery-item-title\">${comments}</p>\n            </li>\n            <li class=\"gallery-list-item\">Downloads\n              <p class=\"gallery-item-title\">${downloads}</p>\n            </li>\n          </ul>\n        </a>\n      </li>`\n    )\n    .join(\"\")\n\n  list.innerHTML = markup;\n  \n  ligthBox.refresh();\n}\n\nexport function clearGallery() {\n  list.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"js-hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"js-hidden\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { showLoader } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\n\n\nform.addEventListener(\"submit\", (e) => {\n  \n  e.preventDefault();\n  const inputValue = e.target.elements.search.value.trim();\n  if (inputValue.length === 0) {\n    iziToast.error({\n    title: 'Error',\n    message: 'Please enter your request',\n    });\n    return\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error(\"Error\");\n      }\n      createGallery(data.hits)\n    })\n    .catch(() =>\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      })\n    )\n    .finally(() => hideLoader())\n  form.reset()\n})\n"],"names":["getImagesByQuery","query","myApiKey","BASE_URL","params","axios","response","error","list","loader","ligthBox","SimpleLightbox","createGallery","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","e","inputValue","iziToast","data"],"mappings":"owBAMO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAW,qCACXC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAOI,EACJ,IAAIF,EAAU,CAAE,OAAAC,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAASA,EAAM,OAAO,CACjC,CChBA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,eAAgB,GAChB,QAAS,EACb,CAAG,EAEDD,EAAS,GAAG,sBAAuB,UAAY,CACjD,CAAG,EAGI,SAASE,EAAcC,EAAQ,CAEpC,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC5E;AAAA,wCACkCN,CAAa;AAAA;AAAA;AAAA,mBAGlCC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMuBC,CAAK;AAAA;AAAA;AAAA,8CAGLC,CAAK;AAAA;AAAA;AAAA,8CAGLC,CAAQ;AAAA;AAAA;AAAA,8CAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAKlD,EACA,KAAK,EAAE,EAEVb,EAAK,UAAYM,EAEjBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAK,UAAY,EACnB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,WAAW,CACrC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,WAAW,CAClC,CC3DA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAWC,GAAM,CAErCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,OAAO,MAAM,OAClD,GAAIC,EAAW,SAAW,EAAG,CAC3BC,EAAS,MAAM,CACf,MAAO,QACP,QAAS,2BACb,CAAK,EACD,MACD,CACDN,IACAC,IACAvB,EAAiB2B,CAAU,EACxB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,OAAO,EAEzBjB,EAAciB,EAAK,IAAI,CAC7B,CAAK,EACA,MAAM,IACLD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,CACF,EACA,QAAQ,IAAMJ,GAAY,EAC7BC,EAAK,MAAO,CACd,CAAC"}